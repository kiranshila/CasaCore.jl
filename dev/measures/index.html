<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>CasaCore.Measures · CasaCore.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://kiranshila.github.io/CasaCore.jl/measures/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CasaCore.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CasaCore.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Modules</span><ul><li><a class="tocitem" href="../tables/">CasaCore.Tables</a></li><li class="is-active"><a class="tocitem" href>CasaCore.Measures</a><ul class="internal"><li><a class="tocitem" href="#Units"><span>Units</span></a></li><li><a class="tocitem" href="#Epochs"><span>Epochs</span></a></li><li><a class="tocitem" href="#Directions"><span>Directions</span></a></li><li><a class="tocitem" href="#Positions"><span>Positions</span></a></li><li><a class="tocitem" href="#Coordinate-System-Conversions"><span>Coordinate System Conversions</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Modules</a></li><li class="is-active"><a href>CasaCore.Measures</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>CasaCore.Measures</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/kiranshila/CasaCore.jl/blob/master/docs/src/measures.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Measures"><a class="docs-heading-anchor" href="#Measures">Measures</a><a id="Measures-1"></a><a class="docs-heading-anchor-permalink" href="#Measures" title="Permalink"></a></h1><p>Load this module by running</p><pre><code class="language-julia hljs">using CasaCore.Measures</code></pre><p>The <code>Measures</code> module is used to interface with the CasaCore measures system, which can be used to perform coordinate system conversions. For example, UTC time can be converted to atomic time, or a B1950 coordinates can be converted to J2000 coordinates.</p><p>At the moment there are 3 different kinds of measures available:</p><ol><li><a href="#Epochs">Epochs</a> - representing an instance in time</li><li><a href="#Directions">Directions</a> - representing a direction to an object on the sky</li><li><a href="#Positions">Positions</a> - representing a location on the Earth</li></ol><h2 id="Units"><a class="docs-heading-anchor" href="#Units">Units</a><a id="Units-1"></a><a class="docs-heading-anchor-permalink" href="#Units" title="Permalink"></a></h2><p>CasaCore.Measures depends on the <a href="https://github.com/PainterQubits/Unitful.jl">Unitful</a> package in order to specify the units associated with various quantities. The Unitful package should have automatically been installed when you ran <code>Pkg.add(&quot;CasaCore&quot;)</code>. You can load the Unitful package by running <code>using Unitful</code> and <a href="https://github.com/PainterQubits/Unitful.jl">documentation for Unitful is also available</a>. Unitful is a particularly elegant package for unit-checked computation because the unit checking occurs at compile-time. That is, there is no run-time overhead associated with using Unitful.</p><p>Unitful offers two ways to attach units to a quantity:</p><pre><code class="language-julia hljs">using Unitful: m
x = 10.0 * u&quot;m&quot; # using the u&quot;...&quot; string macro
y = 10.0 * m    # using the Unitful.m object (which we have imported into our namespace)</code></pre><p>The first approach using the string macro is generally preferred because it avoids polluting the namespace. Simply replace the <code>...</code> in <code>u&quot;...&quot;</code> with your desired units. For example we could obtain units of meters per second by writing <code>u&quot;m/s&quot;</code> or radians per kilometer-squared by writing <code>u&quot;rad/km^2&quot;</code>.</p><p>CasaCore.Measures, however, will only expect quantities with three different kinds of units: times, lengths, and angles. These are summarized below.</p><table><tr><th style="text-align: center">Unit</th><th style="text-align: center">Expression</th></tr><tr><td style="text-align: center">Seconds</td><td style="text-align: center"><code>u&quot;s&quot;</code></td></tr><tr><td style="text-align: center">Days</td><td style="text-align: center"><code>u&quot;d&quot;</code></td></tr><tr><td style="text-align: center">Meters</td><td style="text-align: center"><code>u&quot;m&quot;</code></td></tr><tr><td style="text-align: center">Kilometers</td><td style="text-align: center"><code>u&quot;km&quot;</code></td></tr><tr><td style="text-align: center">Degrees</td><td style="text-align: center"><code>u&quot;°&quot;</code></td></tr><tr><td style="text-align: center">Radians</td><td style="text-align: center"><code>u&quot;rad&quot;</code></td></tr></table><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The ° character for degrees con be obtained at the Julia REPL by typing <code>\degree</code> and then pressing <code>&lt;tab&gt;</code>. The Julia plugins for Emacs and vim also provide this functionality.</p></div></div><p><a href="https://github.com/JuliaAstro/UnitfulAstro.jl">UnitfulAstro</a> extends base Unitful with additional units commonly encountered in astronomy (for instance, <code>pc</code> and <code>Jy</code>).</p><h2 id="Epochs"><a class="docs-heading-anchor" href="#Epochs">Epochs</a><a id="Epochs-1"></a><a class="docs-heading-anchor-permalink" href="#Epochs" title="Permalink"></a></h2><p>An epoch measure is created using the <code>Epoch(sys, time)</code> constructor where <code>sys</code> specifies the coordinate system and <code>time</code> specifies the Julian date.</p><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.Epoch-Tuple{CasaCore.Measures.Epochs.System, Union{Unitful.Quantity{T, 𝐓, U}, Unitful.Level{L, S, Unitful.Quantity{T, 𝐓, U}} where {L, S}} where {T, U}}" href="#CasaCore.Measures.Epoch-Tuple{CasaCore.Measures.Epochs.System, Union{Unitful.Quantity{T, 𝐓, U}, Unitful.Level{L, S, Unitful.Quantity{T, 𝐓, U}} where {L, S}} where {T, U}}"><code>CasaCore.Measures.Epoch</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Epoch(sys, time)</code></pre><p>Instantiate an epoch in the given coordinate system (<code>sys</code>).</p><p>The <code>time</code> should be given as a modified Julian date.  Additionally the Unitful package should be used to communicate the units of <code>time</code>.</p><p>For example <code>time = 57365.5 * u&quot;d&quot;</code> corresponds to a Julian date of 57365.5 days. However you can also specify the Julian date in seconds (<code>u&quot;s&quot;</code>), or any other unit of time supported by Unitful.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>epoch&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><code>LAST</code> - local apparent sidereal time</li><li><code>LMST</code> - local mean sidereal time</li><li><code>GMST1</code> - Greenwich mean sidereal time</li><li><code>GAST</code> - Greenwich apparent sidereal time</li><li><code>UT1</code> - UT0 (raw time from GPS measurements) corrected for polar wandering</li><li><code>UT2</code> - UT1 corrected for variable Earth rotation</li><li><code>UTC</code> - coordinated universal time</li><li><code>TAI</code> - international atomic time</li><li><code>TDT</code> - terrestrial dynamical time</li><li><code>TCG</code> - geocentric coordinate time</li><li><code>TDB</code> - barycentric dynamical time</li><li><code>TCB</code> - barycentric coordinate time</li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia hljs">using Unitful: d
Epoch(epoch&quot;UTC&quot;,     0.0d) # 1858-11-17T00:00:00
Epoch(epoch&quot;UTC&quot;, 57365.5d) # 2015-12-09T12:00:00</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/epochs.jl#L57-L93">source</a></section></article><h2 id="Directions"><a class="docs-heading-anchor" href="#Directions">Directions</a><a id="Directions-1"></a><a class="docs-heading-anchor-permalink" href="#Directions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.Direction-Tuple{CasaCore.Measures.Directions.System, Unitful.DimensionlessQuantity, Unitful.DimensionlessQuantity}" href="#CasaCore.Measures.Direction-Tuple{CasaCore.Measures.Directions.System, Unitful.DimensionlessQuantity, Unitful.DimensionlessQuantity}"><code>CasaCore.Measures.Direction</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Direction(sys, longitude, latitude)
Direction(sys)</code></pre><p>Instantiate a direction in the given coordinate system (<code>sys</code>).</p><p>The longitude and latitude may either be a sexagesimally formatted string, or an angle where the units (degrees or radians) are specified by using the Unitful package. If the longitude and latitude coordinates are not provided, they are assumed to be zero.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>dir&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><code>J2000</code> - mean equator and equinox at J2000.0 (FK5)</li><li><code>JMEAN</code> - mean equator and equinox at frame epoch</li><li><code>JTRUE</code> - true equator and equinox at frame epoch</li><li><code>APP</code> - apparent geocentric position</li><li><code>B1950</code> - mean epoch and ecliptic at B1950.0</li><li><code>B1950_VLA</code> - mean epoch (1979.9) and ecliptic at B1950.0</li><li><code>BMEAN</code> - mean equator and equinox at frame epoch</li><li><code>BTRUE</code> - true equator and equinox at frame epoch</li><li><code>GALACTIC</code> - galactic coordinates</li><li><code>HADEC</code> - topocentric hour angle and declination</li><li><code>AZEL</code> - topocentric azimuth and elevation (N through E)</li><li><code>AZELSW</code> - topocentric azimuth and elevation (S through W)</li><li><code>AZELGEO</code> - geodetic azimuth and elevation (N through E)</li><li><code>AZELSWGEO</code> - geodetic azimuth and elevation (S through W)</li><li><code>JNAT</code> - geocentric natural frame</li><li><code>ECLIPTIC</code> - ecliptic for J2000 equator and equinox</li><li><code>MECLIPTIC</code> - ecliptic for mean equator of date</li><li><code>TECLIPTIC</code> - ecliptic for true equator of date</li><li><code>SUPERGAL</code> - supergalactic coordinates</li><li><code>ITRF</code> - coordinates with respect to the ITRF Earth frame</li><li><code>TOPO</code> - apparent topocentric position</li><li><code>ICRS</code> - international celestial reference system</li><li><code>MERCURY</code></li><li><code>VENUS</code></li><li><code>MARS</code></li><li><code>JUPITER</code></li><li><code>SATURN</code></li><li><code>URANUS</code></li><li><code>NEPTUNE</code></li><li><code>PLUTO</code></li><li><code>SUN</code></li><li><code>MOON</code></li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia hljs">using Unitful: °, rad
Direction(dir&quot;AZEL&quot;, 0°, 90°) # topocentric zenith
Direction(dir&quot;ITRF&quot;, 0rad, 1rad)
Direction(dir&quot;J2000&quot;, &quot;12h00m&quot;, &quot;43d21m&quot;)
Direction(dir&quot;SUN&quot;)     # the direction towards the Sun
Direction(dir&quot;JUPITER&quot;) # the direction towards Jupiter</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/directions.jl#L114-L172">source</a></section></article><h2 id="Positions"><a class="docs-heading-anchor" href="#Positions">Positions</a><a id="Positions-1"></a><a class="docs-heading-anchor-permalink" href="#Positions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.Position-Tuple{CasaCore.Measures.Positions.System, Union{Unitful.Quantity{T, 𝐋, U}, Unitful.Level{L, S, Unitful.Quantity{T, 𝐋, U}} where {L, S}} where {T, U}, Unitful.DimensionlessQuantity, Unitful.DimensionlessQuantity}" href="#CasaCore.Measures.Position-Tuple{CasaCore.Measures.Positions.System, Union{Unitful.Quantity{T, 𝐋, U}, Unitful.Level{L, S, Unitful.Quantity{T, 𝐋, U}} where {L, S}} where {T, U}, Unitful.DimensionlessQuantity, Unitful.DimensionlessQuantity}"><code>CasaCore.Measures.Position</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Position(sys, elevation, longitude, latitude)</code></pre><p>Instantiate a position in the given coordinate system (<code>sys</code>).</p><p>Note that depending on the coordinate system the elevation may be measured relative to the center or the surface of the Earth.  In both cases the units should be given with the Unitful package.  The longitude and latitude may either be a sexagesimally formatted string, or an angle where the units (degrees or radians) are specified by using the Unitful package. If the longitude and latitude coordinates are not provided, they are assumed to be zero.</p><p><strong>Coordinate Systems:</strong></p><p>The coordinate system is selected using the string macro <code>pos&quot;...&quot;</code> where the <code>...</code> is replaced with one of the coordinate systems listed below.</p><ul><li><code>ITRF</code> - the International Terrestrial Reference Frame</li><li><code>WGS84</code> - the World Geodetic System 1984</li></ul><p><strong>Examples:</strong></p><pre><code class="language-julia hljs">using Unitful: m, °
Position(pos&quot;WGS84&quot;, 5000m, &quot;20d30m00s&quot;, &quot;-80d00m00s&quot;)
Position(pos&quot;WGS84&quot;, 5000m, 20.5°, -80°)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/positions.jl#L45-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.observatory" href="#CasaCore.Measures.observatory"><code>CasaCore.Measures.observatory</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">observatory(name)</code></pre><p>Get the position of an observatory from its name.</p><p><strong>Examples:</strong></p><pre><code class="language-julia hljs">observatory(&quot;VLA&quot;)  # the Very Large Array
observatory(&quot;ALMA&quot;) # the Atacama Large Millimeter/submillimeter Array</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/positions.jl#L101-L112">source</a></section></article><h2 id="Coordinate-System-Conversions"><a class="docs-heading-anchor" href="#Coordinate-System-Conversions">Coordinate System Conversions</a><a id="Coordinate-System-Conversions-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-System-Conversions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.ReferenceFrame" href="#CasaCore.Measures.ReferenceFrame"><code>CasaCore.Measures.ReferenceFrame</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReferenceFrame</code></pre><p>The <code>ReferenceFrame</code> type contains information about the frame of reference to use when converting between coordinate systems. For example converting from J2000 coordinates to AZEL coordinates requires knowledge of the observer&#39;s location, and the current time. However converting between B1950 coordinates and J2000 coordinates requires no additional information about the observer&#39;s frame of reference.</p><p>Use the <code>set!</code> function to add information to the given frame of reference.</p><p><strong>Example:</strong></p><pre><code class="language-julia hljs">frame = ReferenceFrame()
set!(frame, observatory(&quot;VLA&quot;)) # set the observer&#39;s position to the location of the VLA
set!(frame, Epoch(epoch&quot;UTC&quot;, 50237.29*u&quot;d&quot;)) # set the current UTC time</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/conversions.jl#L92-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CasaCore.Measures.measure" href="#CasaCore.Measures.measure"><code>CasaCore.Measures.measure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">measure(frame, value, newsys)</code></pre><p>Converts the value measured in the given frame of reference into a new coordinate system.</p><p><strong>Arguments:</strong></p><ul><li><code>frame</code> - an instance of the <code>ReferenceFrame</code> type</li><li><code>value</code> - an <code>Epoch</code>, <code>Direction</code>, or <code>Position</code> that will be converted from its current           coordinate system into the new one</li><li><code>newsys</code> - the new coordinate system</li></ul><p>Note that the reference frame must have all the required information to convert between the coordinate systems. Not all conversions require the same information!</p><p><strong>Examples:</strong></p><pre><code class="language-julia hljs"># Compute the azimuth and elevation of the Sun
measure(frame, Direction(dir&quot;SUN&quot;), dir&quot;AZEL&quot;)

# Compute the ITRF position of the VLA
measure(frame, observatory(&quot;VLA&quot;), pos&quot;ITRF&quot;)

# Compute the atomic time from a UTC time
measure(frame, Epoch(epoch&quot;UTC&quot;, 50237.29*u&quot;d&quot;), epoch&quot;TAI&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/kiranshila/CasaCore.jl/blob/a42c9d634f725f6b20ba0c17181980b472696c1f/src/measures/conversions.jl#L16-L43">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tables/">« CasaCore.Tables</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Tuesday 26 July 2022 21:04">Tuesday 26 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
